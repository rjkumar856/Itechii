!(function(a,b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{if(typeof exports==="object"){b(require("jquery"))}else{b(a.jQuery)}}})(this,function(g){var e="vide";var d={volume:1,playbackRate:1,muted:true,loop:true,autoplay:true,position:"50% 50%",posterType:"detect",resizing:true,bgColor:"transparent"};var a="Not implemented";function b(r){var m={};var n;var o;var j;var k;var p;var q;var l;p=r.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",").split(",");for(l=0,q=p.length;l<q;l++){o=p[l];if(o.search(/^(http|https|ftp):\/\//)!==-1||o.search(":")===-1){break}n=o.indexOf(":");j=o.substring(0,n);k=o.substring(n+1);if(!k){k=undefined}if(typeof k==="string"){k=k==="true"||(k==="false"?false:k)}if(typeof k==="string"){k=!isNaN(k)?+k:k}m[j]=k}if(j==null&&k==null){return r}return m}function f(o){o=""+o;var m=o.split(/\s+/);var l="50%";var p="50%";var k;var j;var n;for(n=0,k=m.length;n<k;n++){j=m[n];if(j==="left"){l="0%"}else{if(j==="right"){l="100%"}else{if(j==="top"){p="0%"}else{if(j==="bottom"){p="100%"}else{if(j==="center"){if(n===0){l="50%"}else{p="50%"}}else{if(n===0){l=j}else{p=j}}}}}}}return{x:l,y:p}}function h(j,k){var i=function(){k(this.src)};g('<img src="'+j+'.gif">').load(i);g('<img src="'+j+'.jpg">').load(i);g('<img src="'+j+'.jpeg">').load(i);g('<img src="'+j+'.png">').load(i)}function c(l,n,j){this.$element=g(l);if(typeof n==="string"){n=b(n)}if(!j){j={}}else{if(typeof j==="string"){j=b(j)}}if(typeof n==="string"){n=n.replace(/\.\w*$/,"")}else{if(typeof n==="object"){for(var k in n){if(n.hasOwnProperty(k)){n[k]=n[k].replace(/\.\w*$/,"")}}}}this.settings=g.extend({},d,j);this.path=n;try{this.init()}catch(m){if(m.message!==a){throw m}}}c.prototype.init=function(){var q=this;var s=q.path;var p=s;var i="";var r=q.$element;var l=q.settings;var m=f(l.position);var k=l.posterType;var j;var n;n=q.$wrapper=g("<div>").css({position:"absolute","z-index":-1,top:0,left:0,bottom:0,right:0,overflow:"hidden","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover","background-color":l.bgColor,"background-repeat":"no-repeat","background-position":m.x+" "+m.y});if(typeof s==="object"){if(s.poster){p=s.poster}else{if(s.mp4){p=s.mp4}else{if(s.webm){p=s.webm}else{if(s.ogv){p=s.ogv}}}}}if(k==="detect"){h(p,function(t){n.css("background-image","url("+t+")")})}else{if(k!=="none"){n.css("background-image","url("+p+"."+k+")")}}if(r.css("position")==="static"){r.css("position","relative")}r.prepend(n);if(typeof s==="object"){if(s.mp4){i+='<source src="'+s.mp4+'.mp4" type="video/mp4">'}if(s.webm){i+='<source src="'+s.webm+'.webm" type="video/webm">'}if(s.ogv){i+='<source src="'+s.ogv+'.ogv" type="video/ogg">'}j=q.$video=g("<video>"+i+"</video>")}else{j=q.$video=g('<video><source src="'+s+'.mp4" type="video/mp4"><source src="'+s+'.webm" type="video/webm"><source src="'+s+'.ogv" type="video/ogg"></video>')}try{j.prop({autoplay:l.autoplay,loop:l.loop,volume:l.volume,muted:l.muted,defaultMuted:l.muted,playbackRate:l.playbackRate,defaultPlaybackRate:l.playbackRate})}catch(o){throw new Error(a)}j.css({margin:"auto",position:"absolute","z-index":-1,top:m.y,left:m.x,"-webkit-transform":"translate(-"+m.x+", -"+m.y+")","-ms-transform":"translate(-"+m.x+", -"+m.y+")","-moz-transform":"translate(-"+m.x+", -"+m.y+")",transform:"translate(-"+m.x+", -"+m.y+")",visibility:"hidden",opacity:0}).one("canplaythrough."+e,function(){q.resize()}).one("playing."+e,function(){j.css({visibility:"visible",opacity:1});n.css("background-image","none")});r.on("resize."+e,function(){if(l.resizing){q.resize()}});n.append(j)};c.prototype.getVideoObject=function(){return this.$video[0]};c.prototype.resize=function(){if(!this.$video){return}var m=this.$wrapper;var k=this.$video;var l=k[0];var j=l.videoHeight;var o=l.videoWidth;var n=m.height();var i=m.width();if(i/o>n/j){k.css({width:i+2,height:"auto"})}else{k.css({width:"auto",height:n+2})}};c.prototype.destroy=function(){delete g[e].lookup[this.index];this.$video&&this.$video.off(e);this.$element.off(e).removeData(e);this.$wrapper.remove()};g[e]={lookup:[]};g.fn[e]=function(k,j){var i;this.each(function(){i=g.data(this,e);i&&i.destroy();i=new c(this,k,j);i.index=g[e].lookup.push(i)-1;g.data(this,e,i)});return this};g(document).ready(function(){var i=g(window);i.on("resize."+e,function(){for(var k=g[e].lookup.length,l=0,j;l<k;l++){j=g[e].lookup[l];if(j&&j.settings.resizing){j.resize()}}});i.on("unload."+e,function(){return false});g(document).find("[data-"+e+"-bg]").each(function(m,l){var j=g(l);var k=j.data(e+"-options");var n=j.data(e+"-bg");j[e](n,k)})})});