(function(b){var a={logo_align:"left",links_align:"left",socialBar_align:"left",searchBar_align:"right",trigger:"hover",effect:"fade",effect_speed:400,sibling:true,outside_click_close:true,top_fixed:false,sticky_header:false,sticky_header_height:200,menu_position:"horizontal",full_width:true,mobile_settings:{collapse:false,sibling:true,scrollBar:true,scrollBar_height:400,top_fixed:false,sticky_header:false,sticky_header_height:200}};b.fn.megaMenu=function(c){c=b.extend({},a,c||{});return this.each(function(){var l=b(this),n="ul",m="li",h="a",w=l.find(".menu-logo"),i=w.children(m),t=l.find(".menu-links"),j=t.children(m),o=l.find(".menu-social-bar"),v=l.find(".menu-search-bar"),u=".menu-mobile-collapse-trigger",q=".mobileTriggerButton",g=".desktopTriggerButton",x="active",s="activeTrigger",e="activeTriggerMobile",d=".drop-down-multilevel, .drop-down, .drop-down-tab-bar",k="desktopTopFixed",r="mobileTopFixed",f="menuFullWidth",p;p={menu_full_width:function(){if(c.full_width===true){l.addClass(f)}},logo_Align:function(){if(c.logo_align==="right"){w.addClass("menu-logo-align-right")}},links_Align:function(){if(c.links_align==="right"){t.addClass("menu-links-align-right")}},social_bar_Align:function(){if(c.socialBar_align==="right"){o.addClass("menu-social-bar-right")}},search_bar_Align:function(){if(c.searchBar_align==="left"){v.addClass("menu-search-bar-left")}},collapse_trigger_button:function(){if(c.mobile_settings.collapse===true){i.append('<div class="menu-mobile-collapse-trigger"><span></span></div>');var y=t.add(o);y.hide(0);v.addClass(x);l.find(u).on("click",function(){if(y.is(":hidden")){b(this).addClass(x);y.show(0)}else{b(this).removeClass(x);y.hide(0)}return false})}},switch_effects:function(){switch(c.effect){case"fade":l.find(d).addClass("effect-fade");break;case"scale":l.find(d).addClass("effect-scale");break;case"expand-top":l.find(d).addClass("effect-expand-top");break;case"expand-bottom":l.find(d).addClass("effect-expand-bottom");break;case"expand-left":l.find(d).addClass("effect-expand-left");break;case"expand-right":l.find(d).addClass("effect-expand-right");break}},transition_delay:function(){l.find(d).css({webkitTransition:"all "+c.effect_speed+"ms ease ",transition:"all "+c.effect_speed+"ms ease "})},hover_trigger:function(){if(c.trigger==="hover"){p.transition_delay();l.find(d).parents(m).addClass("hoverTrigger");p.switch_effects()}},mobile_trigger:function(){l.find(d).prev(h).append('<div class="mobileTriggerButton"></div>');l.find(q).on("click",function(){var A=b(this),z=A.parents(h),y=z.next(d);if(y.is(":hidden")){if(c.mobile_settings.sibling===true){A.parents(l).siblings(n+","+m).find(d).hide(0);A.parents(l).siblings(m).removeClass(e);A.parents(l).siblings(n).find(m).removeClass(e)}z.parent(m).addClass(e);y.show(0)}else{z.parent(m).removeClass(e);y.hide(0)}return false});l.find("i.fa.fa-indicator").on("click",function(){return false})},click_trigger:function(){if(c.trigger==="click"){l.find(d).prev(h).append('<div class="desktopTriggerButton"></div>');l.find(d).parents(m).addClass("ClickTrigger");p.switch_effects();p.transition_delay();l.find(g).on("click",function(B){B.stopPropagation();B.stopImmediatePropagation();var A=b(this),z=A.parents(h),y=z.next(d);if(!(y.hasClass(x))){if(c.sibling===true){A.parents(l).siblings(n+","+m).find(d).removeClass(x);A.parents(l).siblings(m).removeClass(s);A.parents(l).siblings(n).find(m).removeClass(s)}z.parent(m).addClass(s);y.addClass(x)}else{z.parent(m).removeClass(s);y.removeClass(x)}})}},scroll_bar:function(){if(c.mobile_settings.scrollBar===true){t.css({maxHeight:c.mobile_settings.scrollBar_height+"px",overflow:"auto"})}},top_Fixed:function(){if(c.top_fixed===true){l.addClass(k)}if(c.mobile_settings.top_fixed){l.addClass(r)}},sticky_Header:function(){var A=b(window),z=true,y=true;if(!(l.find(d).is(":hidden"))){A.off("scroll");if(c.sticky_header===true&&c.menu_position==="horizontal"&&c.top_fixed===false){A.on("scroll",function(){if(A.scrollTop()>c.sticky_header_height){if(z===true){l.fadeOut(200,function(){b(this).addClass(k).fadeIn(200)});z=false}}else{if(z===false){l.fadeOut(200,function(){b(this).removeClass(k).fadeIn(200)});z=true}}})}}else{A.off("scroll");if(c.mobile_settings.sticky_header===true&&c.top_fixed===false){A.on("scroll",function(){if(A.scrollTop()>c.mobile_settings.sticky_header_height){if(y===true){l.addClass(r);y=false}}else{if(y===false){l.removeClass(r);y=true}}})}}},position:function(){if(c.menu_position==="vertical-left"){l.addClass("vertical-left")}else{if(c.menu_position==="vertical-right"){l.addClass("vertical-right")}}}};p.menu_full_width();p.logo_Align();p.links_Align();p.social_bar_Align();p.search_bar_Align();p.collapse_trigger_button();p.hover_trigger();p.mobile_trigger();p.click_trigger();p.scroll_bar();p.top_Fixed();p.sticky_Header();p.position();b(window).resize(function(){p.sticky_Header()})})}}(jQuery));